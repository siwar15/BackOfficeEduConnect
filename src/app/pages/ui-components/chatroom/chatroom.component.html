<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

<div class="container">
<div class="row clearfix">
    <div class="col-lg-12">
        <div class="card chat-app">
            <div id="plist" class="people-list">
                <ul class="list-unstyled chat-list mt-2 mb-0">
                    <li class="clearfix" *ngFor="let room of rooms" (click)="fetchMessagesByRoom(room.name)">
                        <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="avatar">
                        <div class="about">
                            <div class="name">{{room.name}}</div>
                            <div class="status"> <i class="fa fa-circle offline"></i> left 7 mins ago </div>                                            
                        </div>
                        
                    </li>
                </ul>
            </div>
            <div class="chat"> 
                
                <div class="chat-history scrollable" id="anchor">
                    <ul class="m-b-0">
                        <li class="clearfix" *ngFor="let message of messageList">
                            <ng-container *ngIf="message.user.email === username; else otherMessage">
                                <div class="message-data text-right">
                                    <span class="message-data-time">{{ timeStampConverter(message.createdDateTime) }}</span>
                                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="avatar">
                                </div>
                               
                                <div class="message other-message float-right">{{ message.content }}</div>
                            </ng-container>
                            <ng-template #otherMessage>
                                <div class="message-data">
                                    <span class="message-data-time">{{ timeStampConverter(message.createdDateTime) }}</span>
                                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="avatar">
                                </div>
                                <div class="message my-message">{{ message.content }}</div>
                            </ng-template>
                        </li>
                    </ul>
                    <div class="input-group mb-0" style="display: flex; margin-top: 2%;" *ngIf="isChatVisible">
                        <div class="input-group-prepend">
                            <span class="input-group-text" [(ngModel)]="messageInput"></span>
                        </div>
                        <input type="text" class="message-input" placeholder="Type your message" [(ngModel)]="messageInput">
                        <button class="btn btn-primary" (click)="sendMessage()">Send</button>
                    </div>
                </div>
                
                
            </div>
        </div>
    </div>
</div>
</div>

  